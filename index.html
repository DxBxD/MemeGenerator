<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./styles/styles.css" />
    <title>GagGuru - Meme Generator</title>
</head>

<body class="main-layout" onload="onGalleryInit()">

    <header class="main-header-container main-layout full">
        <div class="main-header flex space-between align-center">
            <a onclick="window.location.reload()">
                <div class="logo" aria-label="The GagGuru Meme generator logo">
                    <i class="fa-solid fa-g"></i>ag<i class="fa-solid fa-g"></i>uru
                </div>
            </a>
            <nav class="main-nav-container">
                <ul class="main-nav flex clean-list">
                    <li><button class="nav-item gallery-nav-item" href="#" onclick="gIsCanvasFocused = false; onGalleryInit()" title="gallery">
                        Gallery</button></li>
                    <li><button onclick="gIsCanvasFocused = false; onMemeGalleryInit()" id="shadowBox"
                            class="nav-item rainbow rainbow_text_animated flex align-center justify-center"
                            title="saved memes"><span>
                                    Memes<button
                                class="background-button"></button></button></li>
                </ul>
            </nav>
            <!-- <button style="display: none;" class="btn-toggle-menu flex align-center justify-center"
                onclick="toggleMenu()" title="open mobile menu">â˜°</button> -->
        </div>
    </header>

    <main class="main-content">

        <section class="main-gallery gallery-layout">
            <div class="gallery-toolbar">
                <div class="input-wrapper gallery-search-input toolbar-item">
                    <input name="gallery-search-input" type="text" placeholder="Search" onchange="onSearchKeyword()" title="Gallery searcher - enter search text">
                    <button onclick="onSearchKeyword()" title="click to search"><i class="fa-solid fa-magnifying-glass"></i></button>
                </div>
                <div class="image-keyword-popularity toolbar-item flex space-between justify-center align-center">keywords keywords keywords keywords</div>
                <button class="flexible-button toolbar-item flex justify-center align-center" onclick="onCreateRandomMeme()">I'm flexible!</button>
            </div>
            <div class="gallery"></div>
        </section>

        <section class="meme-gallery gallery-layout">
        </section>

        <section class="main-editor editor-layout">

            <div class="canvas-container canvas-container-layout" aria-label="meme editing board">
                <canvas id="meme-canvas"></canvas>
                <!-- The hidden canvas is used to render the meme for downloading and sharing: -->
                <canvas id="hidden-canvas" style="display: none;"></canvas>
            </div>

            <div class="editor-toolbar-container editor-toolbar-layout flex-container-column editor-layout"
                aria-label="meme editing toolbar">

                <input class="text-input" name="line-text" type="text" placeholder="Your meme text here"
                    oninput="onSetLineText(this.value)" title="meme text line input"></input>

                <div class="flex-container-row">
                    <button class="editor-button text-nav-button" onclick="onSwitchLine()" title="switch text line"><i
                            class="fa-solid fa-up-down"></i></button>
                    <button class="editor-button add-line-button" onclick="onAddLine()" title="add text line"><i
                            class="fa-solid fa-plus"></i></button>
                    <button class="editor-button delete-line-button" onclick="onDeleteLine()"
                        title="delete selected text line"><i class="fa-solid fa-trash"></i></button>
                    <button class="editor-button upload-file-button">
                        <i class="fa-solid fa-upload"></i>
                        <input class="upload-file-input" type="file" class="file-input btn" name="image"
                            onchange="onImgInput(event)" accept="image/*" title="upload image" />
                    </button>
                    <button class="editor-button save-meme-button" onclick="onSaveMeme()"
                        title="save your meme"><i class="fa-solid fa-floppy-disk"></i></button>
                </div>

                <div class="text-editor flex-container-column">
                    <div class="flex-container-row">
                        <button class="editor-button" onclick="onFontSizeChange('+')"
                            title="make font larger">A+</button>
                        <button class="editor-button" onclick="onFontSizeChange('-')"
                            title="make font smaller">A-</button>
                        <button class="editor-button" onclick="onTextAlignChange('left')"
                            title="align text to the left"><i class="fa-solid fa-align-left"></i></button>
                        <button class="editor-button" onclick="onTextAlignChange('center')"
                            title="align text to the center"><i class="fa-solid fa-align-center"></i></button>
                        <button class="editor-button" onclick="onTextAlignChange('right')"
                            title="align text to the right"><i class="fa-solid fa-align-right"></i></button>
                    </div>
                    <div class="flex-container-row">
                        <select class="font-selector" placeholder="Impact" oninput="onFontFamilyChange(this.value)"
                            title="font selector">
                            <option value="impact">Impact</option>
                            <option value="arial">Arial</option>
                            <option value="david">David</option>
                        </select>
                        <button class="editor-button" onclick="onAddUnderline()" title="add underline"><i
                                class="fa-solid fa-underline"></i></button>
                        <button class="editor-button color-picker-button"><i class="fa-solid fa-fill-drip"></i><input
                                class="editor-button clr-picker" type="color" value="#000000"
                                oninput="onTextColorChange(this.value)" title="change text color"></button>
                    </div>
                </div>

                <div class="flex-container-row">
                    <button class="editor-button facebook-button" onclick="onUploadImg()" title="share on Facebook">
                        <i class="fa-brands fa-facebook"></i> Share
                    </button>
                    <button class="editor-button download-button" title="download the meme">
                        <a class="btn" onclick="onDownloadCanvas(this)" download="my-meme">
                            <i class="fa-solid fa-circle-down"></i> Download
                        </a></button>
                </div>

            </div>

        </section>

    </main>

    <script src="./js/services/util-service.js"></script>
    <script src="./js/services/meme-generator-service.js"></script>
    <script src="./js/image-gallery-controller.js"></script>
    <script src="./js/meme-gallery-controller.js"></script>
    <script src="./js/meme-editor-controller.js"></script>
</body>

</html>